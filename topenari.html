<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <title>Topenáři - Ceník prací</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 30px;
            text-align: center;
        }

        h1 {
            color: #00563b;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #f44336;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f44336;
            color: white;
        }

        .input-field {
            width: 80px;
            text-align: center;
        }

        .calculate-btn {
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
        }

        .calculate-btn:hover {
            background-color: #45a049;
        }

        .section-title {
            background-color: #ddd;
            font-weight: bold;
            font-size: 18px;
            text-align: left;
        }

        #floating-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #fff;
            border: 2px solid #4CAF50;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 999;
            font-size: 18px;
            color: #333;
        }

        #floating-total {
            font-size: 22px;
            color: #4CAF50;
            margin-top: 5px;
            font-weight: bold;
        }
    </style>
</head>

<body>

<h1>Topenáři - Ceník prací</h1>

<table>
    <tr>
        <th>Fotografie</th>
        <th>Pracovní úkon</th>
        <th>Cena</th>
        <th>Počet</th>
        <th>Celková cena</th>
    </tr>

    <tr><td colspan="5" class="section-title">Sekání šliců</td></tr>
    <tr><td>-</td><td>Sekání šlicu v ytongu (do šíře 50mm, do hl.50mm)</td><td>75 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v ytongu (do šíře 100mm, do hl.50mm)</td><td>125 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v ytongu (do šíře 150mm, do hl.70mm)</td><td>135 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v cihle (do šíře 50mm, do hl.50mm)</td><td>75 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v cihle (do šíře 100mm, do hl.50mm)</td><td>125 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v cihle (do šíře 150mm, do hl.70mm)</td><td>135 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v betonu (do šíře 50mm, do hl.50mm)</td><td>125 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v betonu (do šíře 100mm, do hl.50mm)</td><td>190 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Sekání šlicu v betonu (do šíře 150mm, do hl.70mm)</td><td>250 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Rozvody vody</td></tr>
    <tr><td>-</td><td>Usazení ppr trubky do pr.25mm</td><td>108 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Usazení ppr trubky do pr.40mm</td><td>129 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>1 spoj ppr trubky do pr.25mm</td><td>63 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>1 spoj ppr trubky do pr.40mm</td><td>73 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž nástěnky ppr pro rohový ventil</td><td>183 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td colspan="5" class="section-title">Rozvody topení</td></tr>
    <tr><td>-</td><td>Usazení měděné trubky do pr.25mm</td><td>104 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Usazení měděné trubky do pr.40mm</td><td>122 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>1 spoj měděné trubky do pr.25mm</td><td>69 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>1 spoj měděné trubky do pr.40mm</td><td>90 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Uchycení potrubí objímkami</td><td>70 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přechod z oceli na měď</td><td>129 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Rozvody odpadů</td></tr>
    <tr><td>-</td><td>Uložení odpadní trubky PP-HT s hrdlem do pr.75mm</td><td>87 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž kolena PP-HT do pr.75mm</td><td>47 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž odbočky PP-HT do pr.75mm</td><td>64 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Izolace potrubí</td></tr>
    <tr><td>-</td><td>Izolace mirelon trubky DN 40</td><td>13 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace mirelon trubky DN 75</td><td>18 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace mirelon trubky DN 110</td><td>23 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace mirelon kolena, T kus DN32-DN50</td><td>59 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace mirelon kolena, T kus DN60-DN100</td><td>94 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace Rockwool trubky DN 40</td><td>24 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace Rockwool trubky DN 75</td><td>32 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace Rockwool trubky DN 110</td><td>40 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace Rockwool kolena, T kus DN32-DN50</td><td>103 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Izolace Rockwool kolena, T kus DN60-DN110</td><td>125 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td colspan="5" class="section-title">Montáž kotlů</td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení plynového kotle pro topení bez ohřevu teplé vody</td><td>4 478 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení plynového kotle pro topení a ohřev vody bez zásobníku</td><td>4 980 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení plynového kotle pro topení a ohřev vody s integrovaným zásobníkem</td><td>5 350 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení plynového kotle pro topení a ohřev vody se zásobníkem</td><td>6 828 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž odkouření pro plynový kondenzační kotel</td><td>1 007 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení Elektrokotle bez ohřevu a zásobníku teplé vody</td><td>3 625 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení Elektrokotle s ohřevem a zásobníkem teplé vody</td><td>4 938 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení plynové karmy pro ohřev teplé vody</td><td>3 522 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž odkouření pro plynovou karmu</td><td>647 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Montáž radiátorů</td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení deskového otopného tělesa</td><td>963 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení koupelnového otopného tělesa</td><td>992 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení litinového otopného tělesa do 5 článků</td><td>1 257 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení litinového otopného tělesa do 10 článků</td><td>1 520 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přikotvení a zapojení litinového otopného tělesa do 20 článků</td><td>1 785 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Kompletace</td></tr>
    <tr><td>-</td><td>Montáž termostatické hlavice</td><td>57 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Vypuštění topného okruhu</td><td>359 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Napouštění topného okruhu</td><td>359 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Odvzdušnění topného okruhu</td><td>503 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž a zapojení termostatu</td><td>338 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Nastavení termostatu</td><td>187 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Ostatní</td></tr>
    <tr><td>-</td><td>Montáž expanzní nádoby do 200l</td><td>635 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž expanzní nádoby do 50l</td><td>423 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž systémové desky pro podlahové topení</td><td>58 Kč / m²</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž rozvaděče pro podlahové topení</td><td>1 725 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Montáž potrubí pro podlahové topení</td><td>18 Kč / mb</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Vypuštění rozvodů ústředního vytápění (1 okruh)</td><td>437 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Přesun materiálu (pokud není připraven v patře realizace)</td><td>257 Kč / hod</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Tlakové zkoušky</td></tr>
    <tr><td>-</td><td>Tlaková zkouška tl. potrubí</td><td>294 Kč / hod</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Zkouška těsnosti kanalizace vodou do DN 125</td><td>294 Kč / hod</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Proplach potrubí</td><td>294 Kč / hod</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Vypracování dokumentu o tlakové zkoušce</td><td>625 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Demontáže</td></tr>
    <tr><td>-</td><td>Demontáž plechového radiátoru</td><td>330 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Demontáž litinového radiátoru</td><td>397 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Demontáž starého rozvodu vytápění bytu</td><td>1 587 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Demontáž starého rozvodu vytápění domu</td><td>2 115 Kč / kpl</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>
    <tr><td>-</td><td>Demontáž závěsného kotle</td><td>740 Kč / ks</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

    <tr><td colspan="5" class="section-title">Hodinové sazby</td></tr>
    <tr><td>-</td><td>Topenářské práce v hodinové sazbě</td><td>350 Kč / hod</td><td><input type="number" class="input-field" onchange="calculateTotal()"></td><td><span class="total-price">0 Kč</span></td></tr>

</table>

<button class="calculate-btn" onclick="goToNabidka()">Přejít na novou nabídku</button>
<button class="calculate-btn" onclick="window.location.href='cenik.html'">Zvolit jiné řemeslo</button>

<div id="grand-total" style="font-size: 24px; font-weight: bold; margin-top: 30px;">
    Celková cena všech prací: 0 Kč
</div>

<div id="floating-box">
    <strong>Celkem:</strong>
    <div id="floating-total">0 Kč</div>
</div>

<script>
    function calculateTotal() {
        const rows = document.querySelectorAll("table tr");
        let grandTotal = 0;

        rows.forEach(row => {
            const cenaBunka = row.cells[2]?.textContent;
            const cena = cenaBunka ? parseFloat(cenaBunka.replace(/[^\d.]/g, '')) : 0;
            const mnozstvi = parseFloat(row.cells[3]?.querySelector('input')?.value) || 0;
            const celkem = cena * mnozstvi;

            const cil = row.cells[4]?.querySelector('.total-price');
            if (cil) {
                cil.textContent = celkem.toFixed(2) + ' Kč';
            }

            if (!isNaN(celkem)) {
                grandTotal += celkem;
            }
        });

        document.getElementById("grand-total").textContent = "Celková cena všech prací: " + grandTotal.toFixed(2) + " Kč";
        document.getElementById("floating-total").textContent = grandTotal.toFixed(2) + " Kč";
    }

    function saveData() {
        const rows = document.querySelectorAll("table tr");
        let data = [];

        rows.forEach(row => {
            const name = row.cells[1]?.textContent;
            const price = row.cells[2]?.textContent;
            const quantity = row.cells[3]?.querySelector('input')?.value;
            const total = row.cells[4]?.querySelector('.total-price')?.textContent;

            if (name && price && quantity > 0) {
                data.push({
                    name: name.trim(),
                    price: price.trim(),
                    quantity: quantity,
                    total: total.trim()
                });
            }
        });

        localStorage.setItem('cenik_topenari', JSON.stringify(data));
    }

    function goToNabidka() {
        saveData();
        window.location.href = 'novanabidka.html';
    }

    document.querySelectorAll('.input-field').forEach(input => {
        input.addEventListener('input', () => {
            calculateTotal();
            saveData();
        });
    });

    window.addEventListener('load', () => {
        calculateTotal();
    });
</script>

</body>
</html>
